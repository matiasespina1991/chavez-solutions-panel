// src/app/page.tsx

'use client';

import { useEffect, useState, useRef } from 'react';
import styles from './page.module.css';
import { fetchArtworks } from '@/utils/functions/fetchArtworks';
import { Artwork } from '@/utils/types/types';
import Link from 'next/link';
import { CircularProgress } from '@mui/material';
import { useDraggable } from 'react-use-draggable-scroll-safe';

export default function Home() {
  const [artworks, setArtworks] = useState<Artwork[]>([]);

  const ref = useRef<HTMLDivElement>(null);
  const { events } = useDraggable(ref);

  useEffect(() => {
    async function loadArtworks() {
      const fetchedArtworks = await fetchArtworks();
      setArtworks(fetchedArtworks);
    }
    loadArtworks();
  }, []);

  return (
    <main className={styles.main}>
      {artworks.length > 0 ? (
        <div className={styles.carousel}>
          {artworks.map((artwork, index) => {
            const slug = `${artwork.id}`;
            return (
              <Link
                style={{ maxWidth: '30rem', userSelect: 'none' }}
                href={`/view/${slug}`}
                passHref
                key={index}
              >
                <div className={styles.artworkContainer}>
                  <img
                    draggable="false"
                    style={{ userSelect: 'none' }}
                    src={artwork.image_url}
                    alt={artwork.title}
                    className={styles.artworkImage}
                  />
                </div>
              </Link>
            );
          })}
        </div>
      ) : (
        <CircularProgress thickness={4} size={50} color="inherit" />
      )}
    </main>
  );
}

// src/app/layout.tsx

import './globals.css';
import { Inter } from 'next/font/google';
import type { Metadata } from 'next';
import Header from './components/Header';
import ThemeRegistry from './ThemeRegistry'; // Importa ThemeRegistry

const inter = Inter({ subsets: ['latin'] });

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body className={inter.className}>
        <ThemeRegistry>
          <Header />
          {children}
        </ThemeRegistry>
      </body>
    </html>
  );
}

'use client';

import { useEffect, useState } from 'react';
import { useParams } from 'next/navigation';
import { fetchArtworks } from '@/utils/functions/fetchArtworks';
import { Artwork } from '@/utils/types/types';
import styles from '../../page.module.css';
import { Box, CircularProgress, Link, Stack, Typography } from '@mui/material';
import HomeIcon from '@mui/icons-material/HomeRounded';
import ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';

export default function ArtworkDetail() {
  const { id } = useParams();
  const [artwork, setArtwork] = useState<Artwork | null>(null);

  useEffect(() => {
    async function loadArtwork() {
      const artworks = await fetchArtworks();

      const selectedArtwork = artworks.find((artwork) => artwork.id === id);
      setArtwork(selectedArtwork || null);
    }

    if (id) {
      loadArtwork();
    }
  }, [id]);

  if (!artwork) {
    return (
      <>
        <main className={styles.main}>
          <CircularProgress thickness={4} size={50} color="inherit" />
        </main>
      </>
    );
  }

  return (
    <main className={styles.main}>
      <Stack mb="10rem" width="100%" direction="column" alignItems="center">
        <Box width="100%" maxWidth="70rem">
          <Stack direction="row" alignItems="center" gap={1}>
            <Link
              href="/"
              sx={{
                width: 'auto',
                textDecoration: 'none',
                color: 'black',
                display: 'flex',
                alignItems: 'center',
              }}
            >
              <Box
                sx={{
                  border: '1px solid black',
                  borderRadius: '100px',
                  padding: '0.6rem',
                  display: 'flex',
                  justifyContent: 'center',
                  alignContent: 'center',
                  alignItems: 'center',
                }}
              >
                <ArrowBackIosIcon
                  sx={{
                    transform: 'translateX(0.3rem)',
                  }}
                />
              </Box>
            </Link>
          </Stack>
        </Box>

        <Box
          sx={{
            display: 'flex',
            justifyContent: 'center',
            alignContent: 'center',
            height: '40rem',
          }}
        >
          <img src={artwork.image_url} alt={artwork.title} />
        </Box>
        <Box
          sx={{
            maxWidth: '32rem',
            width: '100%',
          }}
        >
          <Stack direction="row" justifyContent="flex-end">
            <Typography variant="h6" fontStyle="italic">
              "{artwork.title}"
            </Typography>
          </Stack>
          <Stack direction="row" justifyContent="flex-end">
            <Typography variant="body1" mx="0.3rem">
              by{' '}
            </Typography>
            <Typography variant="body1">{artwork.artist_name}</Typography>
          </Stack>
        </Box>
      </Stack>
    </main>
  );
}

:root {
  --max-width: 1100px;
  --border-radius: 12px;
  --font-mono: ui-monospace, Menlo, Monaco, 'Cascadia Mono', 'Segoe UI Mono',
    'Roboto Mono', 'Oxygen Mono', 'Ubuntu Monospace', 'Source Code Pro',
    'Fira Mono', 'Droid Sans Mono', 'Courier New', monospace;
  --foreground-rgb: 0, 0, 0;
  --background-rgb: 255, 255, 255;
}

/* @media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-rgb: 0, 0, 0;
  }
} */

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  color: rgb(var(--foreground-rgb));
  background-color: rgb(var(--background-rgb));
}

img {
  height: 100%;
  object-fit: cover;
}

a {
  color: inherit;
  text-decoration: none;
  display: inline-block;
  width: 100%;
}
/* 
@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }
} */

.main {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 2rem;
  min-height: 100vh;
}

.description {
  text-align: center;
  font-family: var(--font-mono);
  font-size: 0.85rem;
  max-width: var(--max-width);
  width: 100%;
}

.code {
  font-weight: 700;
  font-family: var(--font-mono);
}

.carousel {
  display: flex;
  flex-direction: row;
  overflow-x: scroll;
  max-height: 30rem;
  width: 100%;
  scroll-behavior: smooth;
  -ms-overflow-style: none;
  scrollbar-width: none;

  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

.carousel::-webkit-scrollbar {
  display: none;
}

.artworkContainer {
  margin-right: 1rem;
  width: 30rem;
  height: 100%;
  flex: 0 0 auto;
}

.artworkImage {
  height: 100%;
  border-radius: 8px;
}

{
  "name": "skyu-website",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "format": "prettier --write ."
  },
  "dependencies": {
    "@emotion/react": "^11.13.0",
    "@emotion/styled": "^11.13.0",
    "@mui/icons-material": "^5.16.7",
    "@mui/material": "^5.16.7",
    "firebase": "^10.12.5",
    "next": "14.2.5",
    "react": "^18",
    "react-dom": "^18",
    "react-use-draggable-scroll-safe": "^0.5.4"
  },
  "devDependencies": {
    "@types/node": "^20",
    "@types/react": "^18",
    "@types/react-dom": "^18",
    "eslint": "^8",
    "eslint-config-next": "14.2.5",
    "eslint-config-prettier": "^9.1.0",
    "eslint-plugin-prettier": "^5.2.1",
    "prettier": "^3.3.3",
    "typescript": "^5"
  }
}


Directory structure (3 levels, excluding node_modules and .next):
.
├── README.md
├── _combined.txt
├── concatenate_files.sh
├── next-env.d.ts
├── next.config.mjs
├── package-lock.json
├── package.json
├── public
│   ├── next.svg
│   └── vercel.svg
├── src
│   └── app
│       ├── ThemeRegistry.tsx
│       ├── favicon.ico
│       ├── globals.css
│       ├── layout.tsx
│       ├── page.module.css
│       └── page.tsx
└── tsconfig.json

4 directories, 16 files
